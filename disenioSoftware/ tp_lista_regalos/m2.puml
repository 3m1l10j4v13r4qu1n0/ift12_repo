@startuml moduloGestionListas
title M2: Módulo de Gestión de Listas (Detallado)

left to right direction
skinparam packageStyle rectangle

' ===== ESTILOS VISUALES =====
skinparam usecase {
    BackgroundColor White
    BorderColor Black
    BorderThickness 2
}

skinparam actor {
    BackgroundColor White
    BorderColor Black
    BorderThickness 2
}

skinparam package {
    BorderThickness 2
    FontStyle bold
}

' ===== ACTORES =====
actor "Pareja\n<<abstract>>" as Pareja #LightGray
actor "Novia" as SoyNovia #Pink
actor "Novio" as SoyNovio #LightBlue

' Generalización
SoyNovia -up-|> Pareja
SoyNovio -up-|> Pareja

' ===== CASOS DE USO PRINCIPALES =====
package "Gestión de Listas - Principal" #LightBlue {
  usecase UC10 as "Crear lista de regalos"
  usecase UC11 as "Editar lista"
  usecase UC12 as "Eliminar lista"
  usecase UC13 as "Ver mis listas"
}

' ===== SUBMÓDULO: CONFIGURACIÓN =====
package "Configuración de Lista" #PowderBlue {
  usecase UC10a as "Configurar datos básicos\n(nombre, fecha boda)"
  usecase UC10b as "Establecer descripción\ny mensaje"
  usecase UC10c as "Configurar privacidad"
  usecase UC10d as "Definir fecha límite\nde compras"
  usecase UC10e as "Establecer dirección\nde entrega"
}

' ===== SUBMÓDULO: PUBLICACIÓN =====
package "Publicación y Compartir" #LightCyan {
  usecase UC12a as "Publicar lista"
  usecase UC12b as "Despublicar lista"
  usecase UC12c as "Generar código/enlace\núnico"
  usecase UC12d as "Compartir por email"
  usecase UC12e as "Compartir en redes\nsociales"
  usecase UC12f as "Generar QR de lista"
  usecase UC12g as "Ver estadísticas\nde accesos"
}

' ===== SUBMÓDULO: PERSONALIZACIÓN =====
package "Personalización" #AliceBlue {
  usecase UC15a as "Elegir tema/diseño"
  usecase UC15b as "Personalizar colores"
  usecase UC15c as "Agregar foto de portada"
  usecase UC15d as "Configurar logo/monograma"
  usecase UC15e as "Agregar música de fondo"
  usecase UC15f as "Vista previa de diseño"
}

' ===== SUBMÓDULO: GESTIÓN AVANZADA =====
package "Gestión Avanzada" #LightSteelBlue {
  usecase UC16a as "Duplicar lista"
  usecase UC16b as "Archivar lista"
  usecase UC16c as "Exportar lista (PDF/Excel)"
  usecase UC16d as "Importar lista desde\notro sistema"
  usecase UC16e as "Establecer colaboradores"
  usecase UC16f as "Ver historial de cambios"
}

' ===== RELACIONES DE ACTORES =====
Pareja --> UC10
Pareja --> UC11
Pareja --> UC12
Pareja --> UC13

' ===== RELACIONES ENTRE CASOS DE USO =====

' Flujo Principal
UC10 ..> UC10a : <<include>>
UC10 ..> UC10b : <<include>>
UC10 ..> UC10c : <<extend>>
UC10 ..> UC10d : <<extend>>
UC10 ..> UC10e : <<extend>>

UC11 ..> UC10a : <<include>>
UC11 ..> UC10b : <<include>>
UC11 ..> UC15a : <<extend>>
UC11 ..> UC16f : <<include>>

' Flujo Publicación
UC12a ..> UC10 : <<precondition>>\nlista creada
UC12a ..> UC12c : <<include>>
UC12a ..> UC12d : <<extend>>
UC12a ..> UC12e : <<extend>>
UC12a ..> UC12f : <<extend>>

UC12b ..> UC12a : <<precondition>>
UC12g ..> UC12a : <<precondition>>

' Flujo Personalización
UC15a ..> UC15f : <<include>>
UC15b ..> UC15a : <<extend>>
UC15c ..> UC10 : <<extend>>
UC15d ..> UC10 : <<extend>>
UC15e ..> UC10 : <<extend>>

' Flujo Gestión Avanzada
UC16a ..> UC10 : <<uses>>
UC16b ..> UC13 : <<include>>
UC16c ..> UC13 : <<include>>
UC16d ..> UC10 : <<alternative>>
UC16e ..> UC10 : <<extend>>

' ===== NOTAS =====
note right of UC10
  **Requisitos previos:**
  • Usuario autenticado
  • Perfil de pareja completo
  • Fecha de boda configurada
  
  **Resultado:**
  • Lista creada con código único
  • Estado: "Borrador"
end note

note right of UC12a
  **Al publicar:**
  • Lista visible públicamente
  • Se genera enlace único
  • Se habilita código de búsqueda
  • Los invitados pueden acceder
  
  **Validaciones:**
  • Mínimo 1 producto en lista
  • Datos básicos completos
end note

note bottom of UC15a
  **Temas disponibles:**
  • Clásico elegante
  • Rústico/Vintage
  • Moderno minimalista
  • Romántico
  • Playa/Tropical
  • Personalizado
end note

note bottom of UC16e
  **Colaboradores:**
  • Pueden agregar/editar productos
  • No pueden eliminar la lista
  • No pueden cambiar configuración
  • Ej: wedding planner, familiares
end note

@enduml