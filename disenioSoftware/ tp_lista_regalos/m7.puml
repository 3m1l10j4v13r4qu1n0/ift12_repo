@startuml moduloAdministracion
title M7: M√≥dulo de Administraci√≥n (Detallado)

left to right direction
skinparam packageStyle rectangle

' ===== ESTILOS VISUALES =====
skinparam usecase {
    BackgroundColor White
    BorderColor Black
    BorderThickness 2
}

skinparam actor {
    BackgroundColor White
    BorderColor Black
    BorderThickness 2
}

skinparam package {
    BorderThickness 2
    FontStyle bold
}

' ===== ACTORES =====
actor "Administrador" as Admin #Orange
actor "Super Admin" as SuperAdmin #Red

' Generalizaci√≥n
Admin -up-|> SuperAdmin

' ===== CASOS DE USO PRINCIPALES =====
package "Administraci√≥n - Principal" #LightGray {
  usecase UC60 as "Gestionar sistema"
  usecase UC61 as "Administrar usuarios"
  usecase UC62 as "Generar reportes"
  usecase UC63 as "Configurar plataforma"
}

' ===== SUBM√ìDULO: GESTI√ìN DE USUARIOS =====
package "Gesti√≥n de Usuarios" #Gainsboro {
  usecase UC61a as "Ver lista de usuarios"
  usecase UC61b as "Buscar usuario"
  usecase UC61c as "Ver detalle de usuario"
  usecase UC61d as "Editar usuario"
  usecase UC61e as "Suspender usuario"
  usecase UC61f as "Eliminar usuario"
  usecase UC61g as "Resetear contrase√±a"
  usecase UC61h as "Ver actividad de usuario"
  usecase UC61i as "Asignar roles"
}

' ===== SUBM√ìDULO: GESTI√ìN DE CAT√ÅLOGO =====
package "Gesti√≥n de Cat√°logo" #Silver {
  usecase UC62a as "Ver cat√°logo completo"
  usecase UC62b as "Agregar producto\nal cat√°logo"
  usecase UC62c as "Editar producto"
  usecase UC62d as "Eliminar producto"
  usecase UC62e as "Gestionar categor√≠as"
  usecase UC62f as "Importar productos\nmasivamente"
  usecase UC62g as "Establecer precios\nsugeridos"
  usecase UC62h as "Gestionar proveedores"
}

' ===== SUBM√ìDULO: GESTI√ìN DE LISTAS =====
package "Gesti√≥n de Listas" #DarkGray {
  usecase UC63a as "Ver todas las listas"
  usecase UC63b as "Buscar lista"
  usecase UC63c as "Ver detalle de lista"
  usecase UC63d as "Moderar contenido"
  usecase UC63e as "Suspender lista"
  usecase UC63f as "Eliminar lista"
  usecase UC63g as "Ver transacciones\nde lista"
  usecase UC63h as "Resolver disputas"
}

' ===== SUBM√ìDULO: REPORTES Y ESTAD√çSTICAS =====
package "Reportes y Estad√≠sticas" #LightSlateGray {
  usecase UC64a as "Dashboard general"
  usecase UC64b as "Reporte de ventas"
  usecase UC64c as "Reporte de usuarios"
  usecase UC64d as "Reporte de productos\npopulares"
  usecase UC64e as "Reporte financiero"
  usecase UC64f as "An√°lisis de tendencias"
  usecase UC64g as "Exportar reportes"
  usecase UC64h as "Programar reportes\nautom√°ticos"
}

' ===== SUBM√ìDULO: CONFIGURACI√ìN DEL SISTEMA =====
package "Configuraci√≥n del Sistema" #WhiteSmoke {
  usecase UC65a as "Configurar par√°metros\ngenerales"
  usecase UC65b as "Gestionar m√©todos\nde pago"
  usecase UC65c as "Configurar comisiones"
  usecase UC65d as "Gestionar plantillas\nde email"
  usecase UC65e as "Configurar integraciones"
  usecase UC65f as "Gestionar t√©rminos\ny condiciones"
  usecase UC65g as "Configurar pol√≠ticas\nde privacidad"
  usecase UC65h as "Backup y restauraci√≥n"
}

' ===== SUBM√ìDULO: MODERACI√ìN =====
package "Moderaci√≥n de Contenido" #DimGray {
  usecase UC66a as "Ver cola de moderaci√≥n"
  usecase UC66b as "Revisar contenido\nreportado"
  usecase UC66c as "Aprobar contenido"
  usecase UC66d as "Rechazar contenido"
  usecase UC66e as "Aplicar sanciones"
  usecase UC66f as "Gestionar reportes"
  usecase UC66g as "Ver log de moderaci√≥n"
}

' ===== SUBM√ìDULO: SEGURIDAD =====
package "Seguridad y Auditor√≠a" #SlateGray {
  usecase UC67a as "Ver logs de sistema"
  usecase UC67b as "Monitorear actividad\nsospechosa"
  usecase UC67c as "Gestionar permisos"
  usecase UC67d as "Configurar\nautenticaci√≥n 2FA"
  usecase UC67e as "Ver intentos\nde acceso"
  usecase UC67f as "Bloquear IPs"
  usecase UC67g as "Auditor√≠a de cambios"
}

' ===== SUBM√ìDULO: SOPORTE =====
package "Soporte y Tickets" #LightGray {
  usecase UC68a as "Ver tickets de soporte"
  usecase UC68b as "Responder tickets"
  usecase UC68c as "Asignar tickets"
  usecase UC68d as "Cerrar tickets"
  usecase UC68e as "Ver historial\nde cliente"
  usecase UC68f as "Escalamiento a\nnivel superior"
  usecase UC68g as "Base de conocimiento"
}

' ===== RELACIONES DE ACTORES =====
Admin --> UC60
Admin --> UC61
Admin --> UC62
Admin --> UC63

SuperAdmin --> UC60
SuperAdmin --> UC61
SuperAdmin --> UC62
SuperAdmin --> UC63

' ===== RELACIONES ENTRE CASOS DE USO =====

' Flujo Gesti√≥n de Usuarios
UC61 ..> UC61a : <<include>>
UC61 ..> UC61b : <<extend>>
UC61a ..> UC61c : <<include>>
UC61c ..> UC61d : <<extend>>
UC61c ..> UC61e : <<extend>>
UC61c ..> UC61f : <<extend>>
UC61c ..> UC61g : <<extend>>
UC61c ..> UC61h : <<include>>
UC61d ..> UC61i : <<extend>>

' Flujo Gesti√≥n de Cat√°logo
UC62 ..> UC62a : <<include>>
UC62a ..> UC62b : <<extend>>
UC62a ..> UC62c : <<extend>>
UC62a ..> UC62d : <<extend>>
UC62 ..> UC62e : <<include>>
UC62 ..> UC62f : <<extend>>
UC62c ..> UC62g : <<include>>
UC62b ..> UC62h : <<include>>

' Flujo Gesti√≥n de Listas
UC63 ..> UC63a : <<include>>
UC63 ..> UC63b : <<extend>>
UC63a ..> UC63c : <<include>>
UC63c ..> UC63d : <<extend>>
UC63c ..> UC63e : <<extend>>
UC63c ..> UC63f : <<extend>>
UC63c ..> UC63g : <<include>>
UC63d ..> UC63h : <<extend>>

' Flujo Reportes
UC62 ..> UC64a : <<include>>
UC64a ..> UC64b : <<extend>>
UC64a ..> UC64c : <<extend>>
UC64a ..> UC64d : <<extend>>
UC64a ..> UC64e : <<extend>>
UC64a ..> UC64f : <<extend>>
UC64b ..> UC64g : <<extend>>
UC64g ..> UC64h : <<extend>>

' Flujo Configuraci√≥n
UC63 ..> UC65a : <<include>>
UC63 ..> UC65b : <<include>>
UC63 ..> UC65c : <<include>>
UC63 ..> UC65d : <<extend>>
UC63 ..> UC65e : <<extend>>
UC63 ..> UC65f : <<include>>
UC63 ..> UC65g : <<include>>
UC63 ..> UC65h : <<extend>>

' Flujo Moderaci√≥n
UC60 ..> UC66a : <<include>>
UC66a ..> UC66b : <<include>>
UC66b ..> UC66c : <<extend>>
UC66b ..> UC66d : <<extend>>
UC66b ..> UC66e : <<extend>>
UC66b ..> UC66f : <<include>>
UC66 ..> UC66g : <<include>>

' Flujo Seguridad
UC60 ..> UC67a : <<include>>
UC60 ..> UC67b : <<include>>
UC60 ..> UC67c : <<include>>
UC67c ..> UC67d : <<extend>>
UC67b ..> UC67e : <<include>>
UC67b ..> UC67f : <<extend>>
UC67 ..> UC67g : <<include>>

' Flujo Soporte
UC60 ..> UC68a : <<include>>
UC68a ..> UC68b : <<include>>
UC68a ..> UC68c : <<extend>>
UC68b ..> UC68d : <<extend>>
UC68b ..> UC68e : <<include>>
UC68b ..> UC68f : <<extend>>
UC68 ..> UC68g : <<extend>>

' ===== NOTAS =====
note right of UC61
  **Gesti√≥n de usuarios incluye:**
  
  ‚Ä¢ CRUD completo
  ‚Ä¢ Asignaci√≥n de roles
  ‚Ä¢ Suspensi√≥n temporal/permanente
  ‚Ä¢ Historial de actividad
  ‚Ä¢ Reseteo de contrase√±as
  
  Solo SuperAdmin puede
  eliminar usuarios definitivamente
end note

note right of UC64a
  **Dashboard muestra:**
  
  üìä KPIs principales:
  ‚Ä¢ Total de usuarios activos
  ‚Ä¢ Listas creadas (mes/a√±o)
  ‚Ä¢ Transacciones realizadas
  ‚Ä¢ Ingresos totales
  ‚Ä¢ Productos m√°s vendidos
  ‚Ä¢ Tasa de conversi√≥n
  ‚Ä¢ Promedio de compra
  
  Gr√°ficos interactivos
  con filtros por fecha
end note

note bottom of UC65b
  **M√©todos de pago:**
  
  ‚Ä¢ Activar/desactivar m√©todos
  ‚Ä¢ Configurar credenciales API
  ‚Ä¢ Establecer comisiones
  ‚Ä¢ Configurar monedas
  ‚Ä¢ L√≠mites de transacci√≥n
  ‚Ä¢ Pa√≠ses permitidos
  
  Integraci√≥n con:
  Stripe, MercadoPago, PayPal,
  Transferencias, etc.
end note

note bottom of UC66a
  **Cola de moderaci√≥n:**
  
  Contenido pendiente de revisar:
  ‚Ä¢ Im√°genes de productos
  ‚Ä¢ Mensajes personalizados
  ‚Ä¢ Nombres de listas
  ‚Ä¢ Descripciones
  ‚Ä¢ Reportes de usuarios
  
  Prioridad: Urgente > Normal > Baja
  Sistema de votaci√≥n entre mods
end note

note bottom of UC67a
  **Logs de sistema registran:**
  
  ‚Ä¢ Login/logout de usuarios
  ‚Ä¢ Cambios en configuraci√≥n
  ‚Ä¢ Transacciones financieras
  ‚Ä¢ Modificaciones de datos
  ‚Ä¢ Errores del sistema
  ‚Ä¢ Intentos de acceso fallidos
  ‚Ä¢ Acciones administrativas
  
  Retenci√≥n: 90 d√≠as
  Exportable a CSV/JSON
end note

@enduml