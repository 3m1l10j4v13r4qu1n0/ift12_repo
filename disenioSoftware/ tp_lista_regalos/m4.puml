@startuml moduloBusquedaVisualizacion
title M4: M√≥dulo de B√∫squeda y Visualizaci√≥n (Detallado)

left to right direction
skinparam packageStyle rectangle

' ===== ESTILOS VISUALES =====
skinparam usecase {
    BackgroundColor White
    BorderColor Black
    BorderThickness 2
}

skinparam actor {
    BackgroundColor White
    BorderColor Black
    BorderThickness 2
}

skinparam package {
    BorderThickness 2
    FontStyle bold
}

' ===== ACTORES =====
actor "Invitado" as Invitado #Wheat
actor "Pareja\n<<abstract>>" as Pareja #LightGray
actor "Novia" as SoyNovia #Pink
actor "Novio" as SoyNovio #LightBlue

' Generalizaci√≥n
SoyNovia -up-|> Pareja
SoyNovio -up-|> Pareja

' ===== CASOS DE USO PRINCIPALES =====
package "B√∫squeda y Visualizaci√≥n - Principal" #Lavender {
  usecase UC30 as "Buscar lista"
  usecase UC31 as "Ver detalle de lista"
  usecase UC32 as "Navegar por productos"
  usecase UC33 as "Ver progreso de lista"
}

' ===== SUBM√ìDULO: B√öSQUEDA DE LISTAS =====
package "B√∫squeda de Listas" #Thistle {
  usecase UC30a as "Buscar por c√≥digo √∫nico"
  usecase UC30b as "Buscar por nombres\nde pareja"
  usecase UC30c as "Buscar por fecha\nde boda"
  usecase UC30d as "Escanear c√≥digo QR"
  usecase UC30e as "Acceder por enlace\ndirecto"
  usecase UC30f as "Ver listas recientes\n(historial)"
  usecase UC30g as "Guardar lista\nen favoritos"
}

' ===== SUBM√ìDULO: VISUALIZACI√ìN DE LISTA =====
package "Visualizaci√≥n de Lista" #Plum {
  usecase UC31a as "Ver informaci√≥n\nde la pareja"
  usecase UC31b as "Ver fecha y lugar\nde boda"
  usecase UC31c as "Ver mensaje personalizado"
  usecase UC31d as "Ver dise√±o/tema\npersonalizado"
  usecase UC31e as "Ver foto de portada"
  usecase UC31f as "Ver redes sociales\nde pareja"
  usecase UC31g as "Reproducir m√∫sica\nde fondo"
}

' ===== SUBM√ìDULO: NAVEGACI√ìN DE PRODUCTOS =====
package "Navegaci√≥n de Productos" #LavenderBlush {
  usecase UC32a as "Ver lista completa\nde productos"
  usecase UC32b as "Filtrar por categor√≠a"
  usecase UC32c as "Filtrar por rango\nde precio"
  usecase UC32d as "Filtrar por estado\n(disponible/comprado)"
  usecase UC32e as "Filtrar por prioridad"
  usecase UC32f as "Ordenar productos"
  usecase UC32g as "Buscar producto\nespec√≠fico"
  usecase UC32h as "Ver detalle de producto"
}

' ===== SUBM√ìDULO: DETALLE DE PRODUCTO =====
package "Detalle de Producto" #MistyRose {
  usecase UC32h1 as "Ver imagen y descripci√≥n"
  usecase UC32h2 as "Ver precio y cantidad"
  usecase UC32h3 as "Ver estado actual"
  usecase UC32h4 as "Ver link de compra"
  usecase UC32h5 as "Ver variantes disponibles"
  usecase UC32h6 as "Ver prioridad"
  usecase UC32h7 as "Compartir producto"
}

' ===== SUBM√ìDULO: PROGRESO Y ESTAD√çSTICAS =====
package "Progreso y Estad√≠sticas" #Orchid {
  usecase UC33a as "Ver porcentaje\nde completitud"
  usecase UC33b as "Ver productos restantes"
  usecase UC33c as "Ver monto total/restante"
  usecase UC33d as "Ver gr√°fico de progreso"
  usecase UC33e as "Ver productos m√°s\npopulares"
  usecase UC33f as "Ver √∫ltimo actualizaci√≥n"
  usecase UC33g as "Ver contador\nde visitantes"
}

' ===== RELACIONES DE ACTORES =====
Invitado --> UC30
Invitado --> UC31
Invitado --> UC32
Invitado --> UC33

Pareja --> UC31
Pareja --> UC33

' ===== RELACIONES ENTRE CASOS DE USO =====

' Flujo B√∫squeda
UC30 ..> UC30a : <<default>>
UC30 ..> UC30b : <<extend>>
UC30 ..> UC30c : <<extend>>
UC30 ..> UC30d : <<extend>>
UC30 ..> UC30e : <<extend>>

UC30 ..> UC30f : <<include>>
UC30 ..> UC31 : <<include>>
UC30g ..> UC30 : <<extend>>

' Flujo Visualizaci√≥n
UC31 ..> UC31a : <<include>>
UC31 ..> UC31b : <<include>>
UC31 ..> UC31c : <<include>>
UC31 ..> UC31d : <<extend>>
UC31 ..> UC31e : <<extend>>
UC31 ..> UC31f : <<extend>>
UC31 ..> UC31g : <<extend>>
UC31 ..> UC32 : <<include>>

' Flujo Navegaci√≥n
UC32 ..> UC32a : <<default>>
UC32 ..> UC32b : <<extend>>
UC32 ..> UC32c : <<extend>>
UC32 ..> UC32d : <<extend>>
UC32 ..> UC32e : <<extend>>
UC32 ..> UC32f : <<extend>>
UC32 ..> UC32g : <<extend>>

UC32a ..> UC32h : <<include>>

' Flujo Detalle Producto
UC32h ..> UC32h1 : <<include>>
UC32h ..> UC32h2 : <<include>>
UC32h ..> UC32h3 : <<include>>
UC32h ..> UC32h4 : <<extend>>
UC32h ..> UC32h5 : <<extend>>
UC32h ..> UC32h6 : <<include>>
UC32h ..> UC32h7 : <<extend>>

' Flujo Progreso
UC33 ..> UC33a : <<include>>
UC33 ..> UC33b : <<include>>
UC33 ..> UC33c : <<include>>
UC33 ..> UC33d : <<include>>
UC33 ..> UC33e : <<extend>>
UC33 ..> UC33f : <<include>>
UC33 ..> UC33g : <<extend>>

' ===== NOTAS =====
note right of UC30
  **M√©todos de b√∫squeda:**
  
  1. **C√≥digo √∫nico**: 6-8 caracteres
  2. **Nombres**: "Juan y Mar√≠a"
  3. **Fecha**: mes/a√±o de boda
  4. **QR**: desde invitaci√≥n
  5. **URL**: enlace compartido
  
  Sistema inteligente sugiere
  coincidencias parciales
end note

note right of UC32d
  **Estados de productos:**
  
  üü¢ **Disponible**
     Listo para comprar
  
  üü° **Reservado**
     En proceso (15 min)
  
  üî¥ **Comprado**
     Ya adquirido
  
  üü† **Parcial**
     Cantidad pendiente
end note

note bottom of UC33
  **Dashboard incluye:**
  
  ‚Ä¢ Barra de progreso visual
  ‚Ä¢ Productos: X de Y completados
  ‚Ä¢ Monto: $X de $Y recaudado
  ‚Ä¢ Tiempo restante para la boda
  ‚Ä¢ Top 5 productos m√°s deseados
  ‚Ä¢ √öltimas compras realizadas
end note

note bottom of UC32h
  **Informaci√≥n completa:**
  
  ‚Ä¢ Galer√≠a de im√°genes
  ‚Ä¢ Descripci√≥n detallada
  ‚Ä¢ Especificaciones t√©cnicas
  ‚Ä¢ Cantidad deseada vs comprada
  ‚Ä¢ Precio sugerido
  ‚Ä¢ Bot√≥n "Comprar regalo"
  ‚Ä¢ Opci√≥n de mensaje personalizado
end note

@enduml